# Task Manager API

Простое приложение для управления задачами, построенное на FastAPI с использованием SQLite базы данных.

## Возможности

- ✅ Создание новых задач
- ✅ Просмотр всех задач
- ✅ Просмотр конкретной задачи по ID
- ✅ Редактирование задач
- ✅ Удаление задач
- ✅ Отметка задач как выполненных/не выполненных
- ✅ Фильтрация задач по статусу
- ✅ Пагинация результатов

## Установка и запуск

1. Установите зависимости:
```bash
pip install -r requirements.txt
```

2. Запустите приложение:
```bash
python -m app.main
```

Или используя uvicorn напрямую:
```bash
uvicorn app.main:app --reload
```

Или используя скрипт run.py:
```bash
python run.py
```

3. Откройте браузер и перейдите по адресу:
   - API документация: http://localhost:8000/docs
   - Альтернативная документация: http://localhost:8000/redoc

## API Endpoints

### Основные операции с задачами

- `GET /` - Приветственное сообщение
- `POST /tasks/` - Создать новую задачу
- `GET /tasks/` - Получить все задачи (с пагинацией)
- `GET /tasks/{task_id}` - Получить задачу по ID
- `PUT /tasks/{task_id}` - Обновить задачу
- `DELETE /tasks/{task_id}` - Удалить задачу

### Управление статусом

- `PATCH /tasks/{task_id}/complete` - Отметить задачу как выполненную
- `PATCH /tasks/{task_id}/incomplete` - Отметить задачу как не выполненную
- `GET /tasks/status/{status}` - Получить задачи по статусу (true/false)

## Примеры использования

### Создание задачи
```bash
curl -X POST "http://localhost:8000/tasks/" \
     -H "Content-Type: application/json" \
     -d '{"title": "Купить продукты", "description": "Молоко, хлеб, яйца"}'
```

### Получение всех задач
```bash
curl "http://localhost:8000/tasks/"
```

### Отметка задачи как выполненной
```bash
curl -X PATCH "http://localhost:8000/tasks/1/complete"
```

### Получение выполненных задач
```bash
curl "http://localhost:8000/tasks/status/true"
```

## Тестирование API

Для демонстрации всех возможностей API запустите тестовый скрипт:

```bash
# Установите requests если не установлен
pip install requests

# Запустите тест (убедитесь что сервер работает)
python test_api.py
```

Тестовый скрипт продемонстрирует:
- Создание нескольких задач
- Получение всех задач
- Получение конкретной задачи по ID
- Обновление задач
- Отметка задач как выполненных/не выполненных
- Фильтрация по статусу

## Структура проекта

```
testbackdoor/
├── app/
│   ├── __init__.py
│   ├── main.py          # Основное FastAPI приложение
│   ├── database.py      # Конфигурация базы данных
│   ├── models.py        # SQLAlchemy модели
│   ├── schemas.py       # Pydantic схемы
│   └── crud.py          # CRUD операции
├── requirements.txt     # Зависимости Python
├── run.py              # Скрипт для запуска приложения
├── test_api.py         # Тестовый скрипт для демонстрации API
├── .gitignore          # Исключения для Git
└── README.md           # Документация
```

## База данных

Приложение использует SQLite базу данных (`tasks.db`), которая создается автоматически при первом запуске. Таблица `tasks` содержит следующие поля:

- `id` - Уникальный идентификатор задачи
- `title` - Заголовок задачи (обязательное поле)
- `description` - Описание задачи (опциональное)
- `status` - Статус выполнения (false = не выполнено, true = выполнено)
- `created_at` - Дата создания
- `updated_at` - Дата последнего обновления